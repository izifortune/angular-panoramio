"use strict";angular.module("angularPanoramioApp",[]),angular.module("angularPanoramioApp").controller("MainCtrl",["$scope","panoramioService",function(a,b){var c=41.9011422,d=12.481368999999972,e=b.getMainPhoto(c,d);e.then(function(b){console.log(b),a.photo=b[0],a.medium=b[0].photo_file_url.replace("small","medium")});var f=b.getPhotos(c,d,"original");f.then(function(b){console.log(b),a.original=b})}]),angular.module("angularPanoramioApp").service("panoramioService",["$http",function(a){function b(a,b){return Math.floor(Math.random()*(b-a))+a}return"undefined"==typeof Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*Math.PI/180}),{getPhotos:function(b,c,d){switch(d){case"original":case"medium":case"small":break;default:d="small"}var e=5,f=c-e/Math.abs(110*Math.cos(b.toRad())),g=c+e/Math.abs(110*Math.cos(b.toRad())),h=b-e/110,i=b+e/110;return a.jsonp("http://www.panoramio.com/map/get_panoramas.php?set=public&from=0&to=5&minx="+f+"&miny="+h+"&maxx="+g+"&maxy="+i+"&size="+d+"&mapfilter=true&callback=JSON_CALLBACK").then(function(a){return a.data.photos})},getMainPhoto:function(b,c){var d=5,e=c-d/Math.abs(110*Math.cos(b.toRad())),f=c+d/Math.abs(110*Math.cos(b.toRad())),g=b-d/110,h=b+d/110;return a.jsonp("http://www.panoramio.com/map/get_panoramas.php?set=public&from=0&to=1&minx="+e+"&miny="+g+"&maxx="+f+"&maxy="+h+"&size=medium&mapfilter=true&callback=JSON_CALLBACK").then(function(a){return a.data.photos})},getRandomOriginal:function(c,d){var e=5,f=d-e/Math.abs(110*Math.cos(c.toRad())),g=d+e/Math.abs(110*Math.cos(c.toRad())),h=c-e/110,i=c+e/110;return a.jsonp("http://www.panoramio.com/map/get_panoramas.php?set=public&from=0&to=10&minx="+f+"&miny="+h+"&maxx="+g+"&maxy="+i+"&size=original&mapfilter=true&callback=JSON_CALLBACK").then(function(a){var c=b(0,10);return a.data.photos[c]})},getRandomMainPhoto:function(c,d){var e=5,f=d-e/Math.abs(110*Math.cos(c.toRad())),g=d+e/Math.abs(110*Math.cos(c.toRad())),h=c-e/110,i=c+e/110;return a.jsonp("http://www.panoramio.com/map/get_panoramas.php?set=public&from=0&to=10&minx="+f+"&miny="+h+"&maxx="+g+"&maxy="+i+"&size=medium&mapfilter=true&callback=JSON_CALLBACK").then(function(a){var c=b(0,10);return a.data.photos[c]})}}}]),angular.module("angularPanoramioApp").factory("panoramioModel",function(){var a=42;return{someMethod:function(){return a}}});